<!-- Example widget contents for http://klaanon.bioklaani.fi/ -->

<p>Näiden asetusten avulla voi säätää Klaanon-lukukokemusta.</p>

<form>
  <p style="height:1.4rem;margin-bottom:0"><label style="float:left;">Fontin koko:</label><select style="width: 6rem;float:right;" id="wrs-font-size">
    <option value="70%">70%</option>
    <option value="80%">80%</option>
    <option value="90%">90%</option>
    <option value="100%" selected="selected">100%</option>
    <option value="110%">110%</option>
    <option value="120%">120%</option>
    <option value="130%">130%</option>
    <option value="140%">140%</option>
    <option value="150%">150%</option>
  </select></p>
  <p style="height:1.4rem;margin-bottom:0"><label style="float:left;">Rivinkorkeus:</label><select style="width: 6rem;float:right;" id="wrs-line-height">
    <option value="10">1</option>
    <option value="11">1.1</option>
    <option value="12">1.2</option>
    <option value="13">1.3</option>
    <option value="14">1.4</option>
    <option value="15" selected="selected">1.5</option>
    <option value="16">1.6</option>
    <option value="17">1.7</option>
    <option value="18">1.8</option>
    <option value="19">1.9</option>
    <option value="20">2</option>
    <option value="21">2.1</option>
    <option value="22">2.2</option>
    <option value="23">2.3</option>
    <option value="24">2.4</option>
    <option value="25">2.5</option>
  </select></p>
  <p style="height:1.4rem;margin-bottom:0"><label style="float:left;">Kappaleväli:</label><select style="width: 6rem;float:right;" id="wrs-paragraph-margin">
    <option value="8px">8px</option>
    <option value="12px">12px</option>
    <option value="16px">16px</option>
    <option value="20px">20px</option>
    <option value="24px" selected="selected">24px</option>
    <option value="28px">28px</option>
    <option value="32px">32px</option>
    <option value="36px">36px</option>
    <option value="40px">40px</option>
    <option value="44px">44px</option>
    <option value="48px">48px</option>
    <option value="52px">52px</option>
    <option value="56px">56px</option>
    <option value="60px">60px</option>
    <option value="64px">64px</option>
    <option value="68px">68px</option>
    <option value="72px">72px</option>
    <option value="76px">76px</option>
    <option value="80px">80px</option>
  </select></p>
  <p style="height:1.4rem;margin-bottom:0"><label style="float:left;">Fontti:</label><select style="width: 6rem;float:right;" id="wrs-font">
    <option value="Times New Roman" selected="selected">Times New Roman</option>
    <option value="Arial">Arial</option>
    <option value="Open Sans">Open Sans</option>
    <option value="Roboto">Roboto</option>
    <option value="Roboto Slab">Roboto Slab</option>
    <option value="Lora">Lora</option>
    <option value="Merriweather">Merriweather</option>
    <option value="PT Serif">PT Serif</option>
    <option value="Slabo 27px">Slabo 27px</option>
    <option value="Source Sans Pro">Source Sans Pro</option>
    <option value="Droid Sans">Droid Sans</option>
  </select></p>
  <p style="height:1.4rem;margin-bottom:0"><label style="float:left;">Alueen leveys:</label><select style="width: 6rem;float:right;" id="wrs-content-width">
    <option value="400px">400px</option>
    <option value="500px">500px</option>
    <option value="600px" selected="selected">600px</option>
    <option value="700px">700px</option>
    <option value="800px">800px</option>
  </select></p>
  <p style="height:1.4rem;margin-bottom:0"><label style="float:left;">Käytössä:</label><input type="checkbox" name="enabled" style="float:right;" value="enabled" checked id="wrs-enabled"></p>
</form>
<div style="clear:both;"></div>
<button style="margin-top:0.2rem;" onclick="saveData();">Tallenna</button>
<button style="margin-top:0.2rem;" onclick="resetData();">Resetoi</button>

<link href='https://fonts.googleapis.com/css?family=Open+Sans|Roboto|Slabo+27px|Source+Sans+Pro|Droid+Sans|Roboto+Slab|Lora|Merriweather|PT+Serif' rel='stylesheet' type='text/css'>

<!-- ÄLKÄÄ MUOKATKO. Laittakaa viestiä tai forkatkaa GitHub-repo jos on valittamista. http://github.com/Nanofus/wordpress-reader-settings -->
<script>
var enabled, lineHeight, loadCookie, loadData, paragraphMargin, replaceCss, resetData, rootPath, rootPathCheck, saveCookie, saveData, size, typeface, width;

rootPath = "/";

rootPathCheck = false;

typeface = '';

size = '';

width = '';

lineHeight = '';

paragraphMargin = '';

enabled = true;

loadCookie = function(cname) {
  var c, ca, i, name;
  name = cname + '=';
  ca = document.cookie.split(';');
  i = 0;
  while (i < ca.length) {
    c = ca[i];
    while (c.charAt(0) === ' ') {
      c = c.substring(1);
    }
    if (c.indexOf(name) === 0) {
      return c.substring(name.length, c.length);
    }
    i++;
  }
  return '';
};

saveCookie = function(cname, cvalue, exdays) {
  var d, expires;
  d = new Date;
  d.setTime(d.getTime() + exdays * 24 * 60 * 60 * 1000);
  expires = 'expires=' + d.toUTCString();
  return document.cookie = cname + '=' + cvalue + '; ' + expires + ';domain=klaanon.bioklaani.fi;path=/';
};

saveData = function() {
  saveCookie("wrs-typeface", document.getElementById("wrs-font").value, 365);
  saveCookie("wrs-size", document.getElementById("wrs-font-size").value, 365);
  saveCookie("wrs-width", document.getElementById("wrs-content-width").value, 365);
  saveCookie("wrs-height", document.getElementById("wrs-line-height").value, 365);
  saveCookie("wrs-margin", document.getElementById("wrs-paragraph-margin").value, 365);
  if (document.getElementById("wrs-enabled").checked) {
    saveCookie("wrs-enabled", "true", 365);
  } else {
    saveCookie("wrs-enabled", "false", 365);
  }
  return location.reload();
};

resetData = function() {
  typeface = "Times New Roman";
  size = "100%";
  width = "600px";
  enabled = "true";
  lineHeight = "15";
  paragraphMargin = "24px";
  document.getElementById("wrs-font").value = typeface;
  document.getElementById("wrs-font-size").value = size;
  document.getElementById("wrs-content-width").value = width;
  document.getElementById("wrs-line-height").value = lineHeight;
  document.getElementById("wrs-paragraph-margin").value = paragraphMargin;
  if (enabled === "true") {
    document.getElementById("wrs-enabled").checked = true;
  } else {
    document.getElementById("wrs-enabled").checked = false;
  }
  return saveData();
};

loadData = function() {
  typeface = loadCookie("wrs-typeface");
  size = loadCookie("wrs-size");
  width = loadCookie("wrs-width");
  enabled = loadCookie("wrs-enabled");
  lineHeight = loadCookie("wrs-height");
  paragraphMargin = loadCookie("wrs-margin");
  if (typeface === '') {
    typeface = "Times New Roman";
  }
  if (size === '') {
    size = "100%";
  }
  if (width === '') {
    width = "600px";
  }
  if (enabled === '') {
    enabled = "true";
  }
  if (lineHeight === '') {
    lineHeight = "15";
  }
  if (paragraphMargin === '') {
    paragraphMargin = "24px";
  }
  document.getElementById("wrs-font").value = typeface;
  document.getElementById("wrs-font-size").value = size;
  document.getElementById("wrs-content-width").value = width;
  document.getElementById("wrs-line-height").value = lineHeight;
  document.getElementById("wrs-paragraph-margin").value = paragraphMargin;
  if (enabled === "true") {
    document.getElementById("wrs-enabled").checked = true;
  } else {
    document.getElementById("wrs-enabled").checked = false;
  }
  if (enabled === "true") {
    return replaceCss();
  }
};

replaceCss = function() {
  var content, contentChildren, d, i, j, len, paragraphs, results;
  if (!rootPathCheck || (window.location.pathname !== rootPath && rootPathCheck)) {
    content = document.getElementsByClassName("entry-content")[0];
    content.classList.add("wps-" + width);
    contentChildren = content.childNodes;
    i = 0;
    paragraphs = [];
    while (i < contentChildren.length) {
      if (contentChildren[i].nodeName === 'P') {
        paragraphs.push(contentChildren[i]);
      }
      if (contentChildren[i].nodeType === 1) {
        contentChildren[i].classList.add("wps-" + size.substring(0, size.length - 1));
        if (contentChildren[i].tagName !== 'H1' && contentChildren[i].tagName !== 'H2' && contentChildren[i].tagName !== 'H3' && contentChildren[i].tagName !== 'H4' && contentChildren[i].tagName !== 'H5' && contentChildren[i].tagName !== 'H6') {
          contentChildren[i].classList.add("wps-line-" + lineHeight);
        }
      }
      i++;
    }
    results = [];
    for (i = j = 0, len = paragraphs.length; j < len; i = ++j) {
      d = paragraphs[i];
      d.classList.add("wps-paragraph-" + paragraphMargin);
      if (typeface === "Times New Roman") {
        results.push(d.classList.add("wps-times"));
      } else if (typeface === "Arial") {
        results.push(d.classList.add("wps-arial"));
      } else if (typeface === "Open Sans") {
        results.push(d.classList.add("wps-opensans"));
      } else if (typeface === "Roboto") {
        results.push(d.classList.add("wps-roboto"));
      } else if (typeface === "Roboto Slab") {
        results.push(d.classList.add("wps-roboto-slab"));
      } else if (typeface === "Lora") {
        results.push(d.classList.add("wps-lora"));
      } else if (typeface === "Merriweather") {
        results.push(d.classList.add("wps-merriweather"));
      } else if (typeface === "PT Serif") {
        results.push(d.classList.add("wps-pt-serif"));
      } else if (typeface === "Slabo 27px") {
        results.push(d.classList.add("wps-slabo"));
      } else if (typeface === "Source Sans Pro") {
        results.push(d.classList.add("wps-source"));
      } else if (typeface === "Droid Sans") {
        results.push(d.classList.add("wps-droid"));
      } else {
        results.push(void 0);
      }
    }
    return results;
  }
};

loadData();

</script>

<style>
.wps-times {
  font-family: "Times New Roman";
}
.wps-arial {
  font-family: "Arial";
}
.wps-opensans {
  font-family: 'Open Sans', sans-serif;
}
.wps-roboto {
  font-family: 'Roboto', sans-serif;
}
.wps-roboto-slab {
  font-family: 'Roboto Slab', serif;
}
.wps-lora {
  font-family: 'Lora', serif;
}
.wps-merriweather {
  font-family: 'Merriweather', serif;
}
.wps-pt-serif {
  font-family: 'PT Serif', serif;
}
.wps-slabo {
  font-family: 'Slabo 27px', serif;
}
.wps-source {
  font-family: 'Source Sans Pro', sans-serif;
}
.wps-droid {
  font-family: 'Droid Sans', sans-serif;
}

.wps-line-10 {
  line-height: 1.0;
}
.wps-line-11 {
  line-height: 1.1;
}
.wps-line-12 {
  line-height: 1.2;
}
.wps-line-13 {
  line-height: 1.3;
}
.wps-line-14 {
  line-height: 1.4;
}
.wps-line-15 {
  line-height: 1.5;
}
.wps-line-16 {
  line-height: 1.6;
}
.wps-line-17 {
  line-height: 1.7;
}
.wps-line-18 {
  line-height: 1.8;
}
.wps-line-19 {
  line-height: 1.9;
}
.wps-line-20 {
  line-height: 2.0;
}
.wps-line-21 {
  line-height: 2.1;
}
.wps-line-22 {
  line-height: 2.2;
}
.wps-line-23 {
  line-height: 2.3;
}
.wps-line-24 {
  line-height: 2.4;
}
.wps-line-25 {
  line-height: 2.5;
}

.wps-paragraph-8px {
  margin-bottom: 8px;
}
.wps-paragraph-12px {
  margin-bottom: 12px;
}
.wps-paragraph-16px {
  margin-bottom: 16px;
}
.wps-paragraph-20px {
  margin-bottom: 20px;
}
.wps-paragraph-24px {
  margin-bottom: 24px;
}
.wps-paragraph-28px {
  margin-bottom: 28px;
}
.wps-paragraph-32px {
  margin-bottom: 32px;
}
.wps-paragraph-36px {
  margin-bottom: 36px;
}
.wps-paragraph-40px {
  margin-bottom: 40px;
}
.wps-paragraph-44px {
  margin-bottom: 44px;
}
.wps-paragraph-44px {
  margin-bottom: 44px;
}
.wps-paragraph-48px {
  margin-bottom: 48px;
}
.wps-paragraph-52px {
  margin-bottom: 52px;
}
.wps-paragraph-56px {
  margin-bottom: 56px;
}
.wps-paragraph-60px {
  margin-bottom: 60px;
}
.wps-paragraph-64px {
  margin-bottom: 64px;
}
.wps-paragraph-68px {
  margin-bottom: 68px;
}
.wps-paragraph-72px {
  margin-bottom: 72px;
}
.wps-paragraph-76px {
  margin-bottom: 76px;
}
.wps-paragraph-80px {
  margin-bottom: 80px;
}


.wps-70 {
  font-size: 70%;
}
.wps-80 {
  font-size: 80%;
}
.wps-90 {
  font-size: 90%;
}
.wps-100 {
  font-size: 100%;
}
.wps-110 {
  font-size: 110%;
}
.wps-120 {
  font-size: 120%;
}
.wps-130 {
  font-size: 130%;
}
.wps-140 {
  font-size: 140%;
}
.wps-150 {
  font-size: 150%;
}

.wps-400px {
  width: 400px !important;
  max-width: 400px !important;
  min-width: 400px !important;
}
.wps-500px {
  width: 500px !important;
  max-width: 500px !important;
  min-width: 500px !important;
}
.wps-600px {
  width: 600px !important;
  max-width: 600px !important;
  min-width: 600px !important;
}
.wps-700px {
  width: 700px !important;
  max-width: 700px !important;
  min-width: 700px !important;
}
.wps-800px {
  width: 800px !important;
  max-width: 800px !important;
  min-width: 800px !important;
}

</style>
